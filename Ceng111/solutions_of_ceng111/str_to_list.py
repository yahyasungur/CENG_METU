from stacknqueue import *

def str_to_list(lst_str):
    stack = CreateStack()
    for char in lst_str:
        if char == '[':
            Push([], stack)
        elif char.isalnum():
            Top(stack).append(int(char))
        elif char == ']':
            if len(stack) > 1:
                nested = Pop(stack)
                Top(stack).append(nested)
            else:
                return Top(stack)

#print(str_to_list('[]'))
#print(str_to_list('[1]'))
#print(str_to_list('[1,6,4]'))
#print(str_to_list('[[2]]'))
print(str_to_list('[[1,2],0,1,[1,[2,[],3],4,5],7,[8,2],9]'))
#print(str_to_list('[[0],[[]],[3,[4],5]]'))
#print(str_to_list('[[[[[]]]]]'))
#print(str_to_list('[1,2,1,2,[[[0]]],[[4,5],[6,7]],[2,[1],[[3],[4]],[5]],8,8,8,1,[0,[1]]]'))
#print(str_to_list('[0,[1,[2,[3,[4,[5,[6,[7,[8,[9],8],7],6],5],4],3],2],1],0]'))
#print(str_to_list('[[0,[1,[2,[3,[4,[5,[6,[7,[8,[9],8],7],6],5],4],3],2],1],0],[0,[1,[2,[3,[4,[5,[6,[7,[8,[9],8],7],6],5],4],3],2],1],0],[0,[1,[2,[3,[4,[5,[6,[7,[8,[9],8],7],6],5],4],3],2],1],0],[1,2,1,2,[[[0]]],[[4,5],[6,7]],[2,[1],[[3],[4]],[5]],8,8,8,1,[0,[1]]],[0,[1,[2,[3,[4,[5,[6,[7,[8,[9],8],7],6],5],4],3],2],1],0],[0,[1,[2,[3,[4,[5,[6,[7,[8,[9],8],7],6],5],4],3],2],1],0],[0,[1,[2,[3,[4,[5,[6,[7,[8,[9],8],7],6],5],4],3],2],1],0]]'))
